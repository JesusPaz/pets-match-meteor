{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/jesuspaz/Documentos/web/pets-match-meteor/imports/ui/Users.vue","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","dynamicImport",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"/home/jesuspaz/Documentos/web/pets-match-meteor/imports/ui/Users.vue","filename":"/home/jesuspaz/Documentos/web/pets-match-meteor/imports/ui/Users.vue","passPerPreset":false,"envName":"development","cwd":"/home/jesuspaz/Documentos/web/pets-match-meteor","root":"/home/jesuspaz/Documentos/web/pets-match-meteor","plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/jesuspaz/Documentos/web/pets-match-meteor/imports/ui/Users.vue","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"/home/jesuspaz/Documentos/web/pets-match-meteor/imports/ui/Users.vue"}},"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar db;\nmodule.link(\"./db\", {\n  db: function (v) {\n    db = v;\n  }\n}, 0);\nvar firebase;\nmodule.link(\"firebase\", {\n  \"default\": function (v) {\n    firebase = v;\n  }\n}, 1);\nvar query = db.collection(\"users\");\nmodule.exportDefault({\n  name: \"Users\",\n  data: function () {\n    return {\n      valid: false,\n      deps: [],\n      namedependencies: [],\n      ops: [\"True\", \"False\"],\n      search: \"\",\n      headers: [{\n        text: \"Name\",\n        value: \"name\"\n      }, {\n        text: \"Lastname\",\n        value: \"lastname\"\n      }, {\n        text: \"Email\",\n        value: \"email\"\n      }, {\n        text: \"Password\",\n        value: \"password\"\n      }, {\n        text: \"Valid To\",\n        value: \"validto\"\n      }, {\n        text: \"Dependency\",\n        value: \"dependency\"\n      }, {\n        text: \"Active\",\n        value: \"active\"\n      }, {\n        text: \"Actions\",\n        value: \"action\",\n        sortable: false\n      }],\n      user: {\n        name: \"\",\n        lastname: \"\",\n        email: \"\",\n        password: \"\",\n        validto: \"\",\n        dependency: \"\",\n        active: \"\"\n      },\n      nameRules: [function (name) {\n        return !!name || \"User Name is required\";\n      }, function (name) {\n        return name.length > 4 || \"User Name must be longer than 4 chars\";\n      }],\n      lastnameRules: [function (name) {\n        return !!name || \"User Lastname is required\";\n      }, function (name) {\n        return name.length > 4 || \"User Lastname must be longer than 4 chars\";\n      }],\n      passwordRules: [function (password) {\n        return !!password || \"Password is required\";\n      }, function (password) {\n        return /^([a-zA-Z0-9]{6,14})+$/.test(password) || \"The password must have uppercase and a size between 6 and 14 characters\";\n      }],\n      emailRules: [function (email) {\n        return !!email;\n      }, function (email) {\n        return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/.test(email) || \"Write a correct email\";\n      }]\n    };\n  },\n  mounted: function () {\n    this.getDeps();\n    this.getDepeIds();\n  },\n  computed: {\n    items: function () {\n      return this.deps;\n    }\n  },\n  methods: {\n    submit: function () {\n      db.collection(\"users\").doc(this.user.email).set(this.user);\n      var depsRef = db.collection(\"dependencies\").doc(this.user.dependency);\n      depsRef.update({\n        users: firebase.firestore.FieldValue.arrayUnion(this.user.name)\n      });\n      alert(\"Usuario registrado correctamente\");\n      this.user.name = \"\";\n      this.user.lastname = \"\";\n      this.user.email = \"\";\n      this.user.password = \"\";\n      this.user.validto = \"\";\n      this.user.dependency = \"\";\n      this.user.active = \"\";\n      console.log(this.users);\n    },\n    editUser: function (userParam) {\n      this.user.name = userParam.name;\n      this.user.lastname = userParam.lastname;\n      this.user.email = userParam.email;\n      this.user.password = userParam.password;\n      this.user.validto = userParam.validto;\n      this.user.dependency = userParam.dependency;\n      this.user.active = userParam.active;\n      console.log(this.users);\n    },\n    deleteUser: function (userParam) {\n      if (confirm(\"Are you sure you want to delete this item?\")) {\n        db.collection(\"users\").doc(userParam.email).delete().then(function () {\n          console.log(\"Document successfully deleted!\");\n        }).catch(function (error) {\n          alert(\"Error removing document: \", error);\n        });\n      }\n    },\n    getDeps: function _callee() {\n      var _this = this;\n\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regenerator.default.awrap(db.collection(\"users\").get().then(function (querySnapshot) {\n                querySnapshot.docs.forEach(function (doc) {\n                  _this.deps.push(doc.data());\n                });\n              }));\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    },\n    getDepeIds: function _callee2() {\n      var _this2 = this;\n\n      return _regenerator.default.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regenerator.default.awrap(db.collection(\"dependencies\").get().then(function (querySnapshot) {\n                querySnapshot.docs.forEach(function (doc) {\n                  _this2.namedependencies.push(doc.data().name);\n                });\n              }));\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    }\n  }\n});","map":{"version":3,"sources":["/home/jesuspaz/Documentos/web/pets-match-meteor/imports/ui/Users.vue"],"names":["db","module","link","v","firebase","query","collection","exportDefault","name","data","valid","deps","namedependencies","ops","search","headers","text","value","sortable","user","lastname","email","password","validto","dependency","active","nameRules","length","lastnameRules","passwordRules","test","emailRules","mounted","getDeps","getDepeIds","computed","items","methods","submit","doc","set","depsRef","update","users","firestore","FieldValue","arrayUnion","alert","console","log","editUser","userParam","deleteUser","confirm","delete","then","catch","error","get","querySnapshot","docs","forEach","push"],"mappings":"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","sourcesContent":["\nimport { db } from \"./db\";\nimport firebase from \"firebase\";\n\nlet query = db.collection(\"users\");\n\nexport default {\n  name: \"Users\",\n\n  data() {\n    return {\n      valid: false,\n      deps: [],\n      namedependencies: [],\n      ops: [\"True\", \"False\"],\n\n      search: \"\",\n      headers: [\n        { text: \"Name\", value: \"name\" },\n        { text: \"Lastname\", value: \"lastname\" },\n        { text: \"Email\", value: \"email\" },\n        { text: \"Password\", value: \"password\" },\n        { text: \"Valid To\", value: \"validto\" },\n        { text: \"Dependency\", value: \"dependency\" },\n        { text: \"Active\", value: \"active\" },\n        { text: \"Actions\", value: \"action\", sortable: false }\n      ],\n\n      user: {\n        name: \"\",\n        lastname: \"\",\n        email: \"\",\n        password: \"\",\n        validto: \"\",\n        dependency: \"\",\n        active: \"\"\n      },\n\n      nameRules: [\n        name => !!name || \"User Name is required\",\n        name => name.length > 4 || \"User Name must be longer than 4 chars\"\n      ],\n      lastnameRules: [\n        name => !!name || \"User Lastname is required\",\n        name => name.length > 4 || \"User Lastname must be longer than 4 chars\"\n      ],\n      passwordRules: [\n        password => !!password || \"Password is required\",\n        password =>\n          /^([a-zA-Z0-9]{6,14})+$/.test(password) ||\n          \"The password must have uppercase and a size between 6 and 14 characters\"\n      ],\n      emailRules: [\n        email => !!email,\n        email =>\n          /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,24}))$/.test(\n            email\n          ) || \"Write a correct email\"\n      ]\n    };\n  },\n\n  mounted() {\n    this.getDeps();\n    this.getDepeIds();\n  },\n  computed: {\n    items: function() {\n      return this.deps;\n    }\n  },\n\n  methods: {\n    submit() {\n      db.collection(\"users\")\n        .doc(this.user.email)\n        .set(this.user);\n\n      let depsRef = db.collection(\"dependencies\").doc(this.user.dependency);\n\n      depsRef.update({\n        users: firebase.firestore.FieldValue.arrayUnion(this.user.name)\n      });\n\n      alert(\"Usuario registrado correctamente\");\n      this.user.name = \"\";\n      this.user.lastname = \"\";\n      this.user.email = \"\";\n      this.user.password = \"\";\n      this.user.validto = \"\";\n      this.user.dependency = \"\";\n      this.user.active = \"\";\n      console.log(this.users);\n    },\n    editUser(userParam) {\n      this.user.name = userParam.name;\n      this.user.lastname = userParam.lastname;\n      this.user.email = userParam.email;\n      this.user.password = userParam.password;\n      this.user.validto = userParam.validto;\n      this.user.dependency = userParam.dependency;\n      this.user.active = userParam.active;\n      console.log(this.users);\n    },\n    deleteUser(userParam) {\n      if (confirm(\"Are you sure you want to delete this item?\")) {\n        db.collection(\"users\")\n          .doc(userParam.email)\n          .delete()\n          .then(function() {\n            console.log(\"Document successfully deleted!\");\n          })\n          .catch(function(error) {\n            alert(\"Error removing document: \", error);\n          });\n      }\n    },\n    async getDeps() {\n      await db\n        .collection(\"users\")\n        .get()\n        .then(querySnapshot => {\n          querySnapshot.docs.forEach(doc => {\n            this.deps.push(doc.data());\n          });\n        });\n    },\n    async getDepeIds() {\n      await db\n        .collection(\"dependencies\")\n        .get()\n        .then(querySnapshot => {\n          querySnapshot.docs.forEach(doc => {\n            this.namedependencies.push(doc.data().name);\n          });\n        });\n    }\n  }\n};\n"]},"sourceType":"script","hash":"354d031a4865727b1159be41c01639e4dee1c08d"}
